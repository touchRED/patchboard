"use strict";angular.module("patchboardApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/new",{templateUrl:"views/new.html",controller:"NewCtrl"}).when("/posts/:detailKey",{templateUrl:"views/post.html",controller:"PostCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("patchboardApp").controller("MainCtrl",["$scope","$firebaseArray","$sce",function(a,b,c){a.posts=b(new Firebase("https://patchboard.firebaseio.com/Posts/")),a.posts.$loaded().then(function(a){a.forEach(function(a){a.useHtml=c.trustAsHtml(a.content)})}).catch(function(a){console.log("Ya got errors, son"+a)})}]),angular.module("patchboardApp").controller("NewCtrl",["$scope","$firebaseArray","$location",function(a,b,c){a.posts=b(new Firebase("https://patchboard.firebaseio.com/Posts/")),a.addPost=function(){a.posts.$add({title:a.title,content:a.content,user:a.user,comments:[{user:"No Comments Yet",content:""}]}),a.title="",a.content="",a.user="",c.path("/"),console.log("done")}}]),angular.module("patchboardApp").controller("PostCtrl",["$scope","$firebaseObject","$routeParams","$location","$sce",function(a,b,c,d,e){a.posts=b(new Firebase("https://patchboard.firebaseio.com/Posts/"));var f=c.detailKey;a.posts.$bindTo(a,"data").then(function(){a.detailed_post=a.data[f],a.useHtml=e.trustAsHtml(a.detailed_post.content),a.data[f].comments&&("No Comments Yet"===a.data[f].comments[0].user&&1==a.data[f].comments.length?(a.comments=a.data[f].comments,console.log("event 1 triggered")):"No Comments Yet"===a.data[f].comments[0].user&&2==a.data[f].comments.length?(a.comments=a.data[f].comments,console.log("event 2 triggered")):(a.comments=a.data[f].comments,console.log("event 3 triggered"))),a.addComment=function(){a.comments.push({content:a.content,user:a.user}),a.user="",a.content="","No Comments Yet"===a.data[f].comments[0].user&&2==a.data[f].comments.length&&a.comments.shift(),a.posts.$save()}}).catch(function(a){console.log("Ya got errors, son"+a)})}]),angular.module("patchboardApp").constant("angularFireVersion","0.6").constant("loginRedirectPath","/login").constant("loginProviders","").constant("FBURL","https://patchboard.firebaseio.com/Posts/"),angular.module("angularfire.firebase",["firebase"]).factory("firebaseRef",["Firebase","FBURL",function(a,b){function c(a){for(var b=0;b<a.length;b++)"object"==typeof a[b]&&(a[b]=c(a[b]));return a.join("/")}return function(){return new a(c([b].concat(Array.prototype.slice.call(arguments))))}}]).service("syncData",["$firebase","firebaseRef",function(a,b){return function(c,d){var e=b(c);return d&&(e=e.limit(d)),a(e)}}]);